****
* LLEGEIX UN REGISTRE D'UNA TAULA EN MEMORIA
*
* ENTRADA
*   VITID = IDENTIFICADOR DE REGISTRE
*
* SORTIDA
*   VREG  -> REGISTRE
*   ST    -> @TRUE SI HA TROBAT I LLEGIT, SI NO @FALSE
****
$OPTIONS -STATIC.DIM
ITID=CHANGE(CHANGE(VITID,KCHAR1,KCHAR1MEM),@AM,KAMMEM)
ST=@FALSE; VREG=""
* CALCULO DEL GRUPO (HASH)
GRUPMEM = CHECKSUM(ITID<1>) + 1
* BUSCAR SI EXISTE
LOCATE(ITID<1>, MATCLAVESMEM(GRUPMEM); POSATRMEM) THEN
  * ENCONTRADO
  REG=MATVALORESMEM(GRUPMEM)<POSATRMEM>
  VREG=CHANGE(CHANGE(REG,KAMMEM,@AM),KCHAR1MEM,KCHAR1)
  ST=@TRUE
END
